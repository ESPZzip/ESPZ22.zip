<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>ESP:Z COINS - Cajas Roblox</title>
  <style>
    body { font-family: Arial, sans-serif; background:#111; color:#fff; margin:0; padding:0; text-align:center; }
    header { background:#222; padding:15px; font-size:26px; }
    .coins { margin:20px; font-size:22px; }
    .container { display:flex; justify-content:center; gap:30px; margin:20px; flex-wrap:wrap; }
    .box { background:#222; padding:20px; border-radius:15px; width:220px; }
    .box h2 { font-size:20px; margin-bottom:10px; }
    .box button { margin-top:10px; padding:10px 15px; border:none; border-radius:8px; background:#28a745; color:#fff; cursor:pointer; font-size:16px; }
    .inventory { padding:20px; background:#222; margin:20px; border-radius:15px; }
    .inventory h2 { margin-bottom:10px; }
    .item { margin:8px 0; }
    .rarity-com√∫n { color:lightgray; }
    .rarity-raro { color:#4da6ff; }
    .rarity-√©pic { color:#b84dff; }
    .rarity-legendario { color:gold; text-shadow:0 0 8px gold; animation: shine 2s infinite; }
    @keyframes shine { 50% { text-shadow:0 0 16px gold; } }
    .rarity-especial { color:lime; font-weight:bold; }
    .sell-btn { margin-left:10px; padding:4px 8px; font-size:12px; cursor:pointer; background:#c00; border:none; border-radius:5px; color:white; }
    #timerBox { position:fixed; top:15px; right:15px; background:#222; padding:10px 15px; border-radius:10px; border:2px solid #555; font-size:16px; display:flex; align-items:center; gap:6px; }
    #hourglass { animation: spin 2s linear infinite; display:inline-block; }
    @keyframes spin { 0%{transform:rotate(0deg);} 100%{transform:rotate(360deg);} }
    table { margin:20px auto; border-collapse:collapse; width:80%; background:#222; border-radius:10px; overflow:hidden; }
    th, td { border:1px solid #555; padding:8px; }
    th { background:#333; }
    .panel-novedades { background:#222; margin:20px auto; padding:15px; border-radius:12px; width:60%; border:1px solid #555; }
    .panel-codigos { background:#222; margin:20px auto; padding:15px; border-radius:12px; width:50%; border:1px solid #555; }
    .panel-codigos input { padding:8px; width:70%; border-radius:6px; border:none; margin-right:10px; }
    .panel-codigos button { padding:8px 12px; border:none; border-radius:6px; background:#007bff; color:#fff; cursor:pointer; }
  </style>
</head>
<body>
  <header>ESP:Z COINS - Cajas Roblox</header>
  <div class="coins">Monedas: <span id="coins">0</span></div>

  <div class="container">
    <div class="box">
      <h2>Caja B√°sica - 150 monedas</h2>
      <button onclick="openBox('basic')">Abrir</button>
    </div>
    <div class="box">
      <h2>Caja √âpica - 1200 monedas</h2>
      <button onclick="openBox('epic')">Abrir</button>
    </div>
    <div class="box">
      <h2>CAJA CRACKY (Especial) - 100,000 monedas</h2>
      <button onclick="openBox('cracky')">Abrir</button>
    </div>
  </div>

  <div class="inventory">
    <h2>Inventario</h2>
    <div id="inventoryList"></div>
  </div>

  <div class="panel-novedades">
    <h2>√öltimo √≠tem agregado</h2>
    <div id="ultimoAgregado">Ninguno a√∫n</div>
  </div>

  <div class="panel-codigos">
    <h2>Canjear C√≥digo</h2>
    <input type="text" id="codigoInput" placeholder="Ingresa tu c√≥digo">
    <button onclick="redeemCode()">Canjear</button>
  </div>

  <h2>Tabla de √çtems en Cajas</h2>
  <table>
    <thead>
      <tr><th>Caja</th><th>√çtem</th><th>Valor</th><th>Probabilidad</th></tr>
    </thead>
    <tbody id="tablaItems"></tbody>
  </table>

  <div id="timerBox"><span id="hourglass">‚è≥</span> <span id="timer">Cargando...</span></div>

  <audio id="soundNew" src="https://www.soundjay.com/buttons/sounds/button-3.mp3"></audio>
  <audio id="soundExpire" src="https://www.soundjay.com/misc/sounds/bell-ringing-05.mp3"></audio>

  <script>
    let coins = parseInt(localStorage.getItem('coins')) || 0;
    document.getElementById('coins').innerText = coins;
    let usedCodes = JSON.parse(localStorage.getItem('usedCodes')) || [];

    // Funci√≥n para canjear c√≥digos
    function redeemCode(){
      const code = document.getElementById('codigoInput').value.trim().toUpperCase();
      if(usedCodes.includes(code)){
        alert("Este c√≥digo ya fue usado.");
        return;
      }
      if(code === "CRACKYRECOMPENSE"){
        coins += 50000;
        usedCodes.push(code);
        alert("¬°Recibiste 50,000 monedas!");
      } else if(code === "ITEMSECRET"){
        let specialItem = {name:"Item Secreto", value:800000, rarity:"Especial", icon:"üíö"};
        inventory.push(specialItem);
        usedCodes.push(code);
        alert("¬°Obtuviste el Item Secreto!");
      } else if(code === "FREE50K"){
        coins += 50000;
        usedCodes.push(code);
        alert("¬°Recibiste 50,000 monedas!");
      } else {
        alert("C√≥digo inv√°lido");
        return;
      }
      localStorage.setItem('coins', coins);
      localStorage.setItem('inventory', JSON.stringify(inventory));
      localStorage.setItem('usedCodes', JSON.stringify(usedCodes));
      document.getElementById('coins').innerText = coins;
      renderInventory();
    }

    // (El resto de tu script sigue igual aqu√≠...)
  </script>
</body>
</html>
